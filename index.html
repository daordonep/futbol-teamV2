<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jugadores</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>

    <h1>Jugadores</h1>
    
    <form id="jugadorRol">
        <label for="texto">Jugador:</label>
        <input type="text" id="nombreJugador" required>
        
        <label for="rol">Rol:</label>
        <select id="rol" required>
            <option value="Defensa">Defensa</option>
            <option value="Medio Campo">Medio Campo</option>
            <option value="Delantero">Delantero</option>
        </select>
        
        <button type="button" id="añadir">Añadir Jugador</button>
        <button type="button" id="generar">Generar Equipos</button>
    </form>
    
    <h2>Lista de jugadores:</h2>
    <ul id="listaJugadores">
        <li id="listaDefensas">Defensas: <span id="defensasNombres"></span></li>
        <li id="listaMedioCampo">Centrocampistas: <span id="medioCampoNombres"></span></li>
        <li id="listaDelantero">Delanteros: <span id="delanteroNombres"></span></li>
    </ul>
    
    <div id="listaEquipos">
       <span id="table1"></span>
       <span id="table2"></span>
    </div>
      
    <script>
        let defensas =[];
        let centrocampistas =[];
        let delanteros =[];
        document.addEventListener("DOMContentLoaded", function () {
            
            const nombreJugador = document.getElementById("nombreJugador");
            const rolSelect = document.getElementById("rol");
            const listaElementos = document.getElementById("listaJugadores");
            const agregarBoton = document.getElementById("añadir");
            const guardarBoton = document.getElementById("generar");
           
            agregarBoton.addEventListener("click", function () {
                const texto = nombreJugador.value;
                const opcion = rolSelect.value;
                

                if (texto.trim() !== "") {
                    switch (opcion) {
                        case "Defensa":
                        defensas.push(texto);
                            document.getElementById("defensasNombres").textContent = defensas.join(", ");
                            break;
                        case "Medio Campo":
                            centrocampistas.push(texto);
                            document.getElementById("medioCampoNombres").textContent = centrocampistas.join(", ");
                            break;
                        case "Delantero":
                            delanteros.push(texto);
                            document.getElementById("delanteroNombres").textContent = delanteros.join(", ");
                            break;
                        default:
                            console.log("rol no encontrado");
                    }
                    
                    nombreJugador.value = "";
                } else {
                    alert("El campo de texto no puede estar vacío.");
                }
            });

            guardarBoton.addEventListener("click", generarEquipos);
        });

        function shuffle(array) {
            let currentIndex = array.length, randomIndex;

            while (currentIndex !== 0) {
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex--;

                [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];
            }

            return array;
        }

        function generarEquipos() {
            shuffle(defensas);
            shuffle(centrocampistas);
            shuffle(delanteros);

            let equipo1 = {
                defensas: defensas.slice(0, defensas.length/2),
                centrocampistas: centrocampistas.slice(0, centrocampistas.length/2),
                delanteros: delanteros.slice(0, delanteros.length/2)
            }

            let equipo2 = {
                defensas: defensas.slice(defensas.length/2),
                centrocampistas: centrocampistas.slice(centrocampistas.length/2),
                delanteros: delanteros.slice(delanteros.length/2)
            }

            console.log("Equipo 1", equipo1);
            console.log("Equipo 2", equipo2);
           
            crearTabla(equipo1, "Equipo 1");
            crearTabla(equipo2, "Equipo 2");       
                const lista = document.getElementById("listaJugadores");
                lista.innerHTML="";
        }


        function crearTabla(equipo, equipoNombre) {
    const tabla = document.createElement("table");

    const encabezado = tabla.createTHead();
    const filaEncabezado = encabezado.insertRow();
    const th = document.createElement("th");
    th.textContent = equipoNombre;
    filaEncabezado.appendChild(th);

    const cuerpo = tabla.createTBody();

    if(equipo.defensas.length > 0) {
        const filaDefensas = cuerpo.insertRow();
        filaDefensas.insertCell().textContent = `Defensas: ${equipo.defensas.join(", ")}`;
    }

    if(equipo.centrocampistas.length > 0) {
        const filaCentrocampistas = cuerpo.insertRow();
        filaCentrocampistas.insertCell().textContent = `Centrocampistas: ${equipo.centrocampistas.join(", ")}`;
    }

    if(equipo.delanteros.length > 0) {
        const filaDelanteros = cuerpo.insertRow();
        filaDelanteros.insertCell().textContent = `Delanteros: ${equipo.delanteros.join(", ")}`;
    }

    tabla.style.borderCollapse = "collapse";
    tabla.style.border = "1px solid #ccc";
    tabla.style.marginTop = "20px";

    const contenedor = document.getElementById("listaEquipos");
    contenedor.appendChild(tabla);
}


    </script>
</body>
</html>
